<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>Cr4O13.github.io</title>
    <link href="https://Cr4O13.github.io/feed.xml" rel="self" />
    <link href="https://Cr4O13.github.io" />
    <updated>2021-12-10T01:05:49+01:00</updated>
    <author>
        <name>Cr4O13</name>
    </author>
    <id>https://Cr4O13.github.io</id>

    <entry>
        <title>Array Notation in Responder Spec</title>
        <author>
            <name>Cr4O13</name>
        </author>
        <link href="https://Cr4O13.github.io/array-notation-in-responder-spec.html"/>
        <id>https://Cr4O13.github.io/array-notation-in-responder-spec.html</id>
            <category term="Responder"/>
            <category term="Home"/>
            <category term="GCI"/>

        <updated>2021-12-10T01:05:34+01:00</updated>
            <summary>
                <![CDATA[
                    GCI Home supports the array notation also for responder specifications. A responder specification using the default JSON object notation may become a bit talkative. &quot;on_change&quot;: { &quot;variable&quot;: &quot;GENERAL ENG THROTTLE LEVER POSITION:1&quot;, &quot;unit&quot;: &quot;Percent&quot;, &quot;output&quot;: &quot;invert&quot; } Array Notation This can be abbreviated with the&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>GCI Home supports the array notation also for <code>responder</code> specifications.</p>
<p>A <code>responder</code> specification using the default JSON object notation may become a bit talkative.</p>
<pre><code>  &quot;on_change&quot;: { 
    &quot;variable&quot;: &quot;GENERAL ENG THROTTLE LEVER POSITION:1&quot;,
    &quot;unit&quot;: &quot;Percent&quot;, 
    &quot;output&quot;: &quot;invert&quot; 
  }
</code></pre>
<h3 id="array-notation">Array Notation</h3>
<p>This can be abbreviated with the JSON array notation:</p>
<pre><code>  &quot;on_change&quot;: [ &quot;GENERAL ENG THROTTLE LEVER POSITION:1&quot;, &quot;Percent&quot;, &quot;invert&quot; ]
</code></pre>
<p>Just make sure the values are listed in the proper order given below, and a value can only be omitted when it is the last in the sequence.</p>
<h5 id="in-a-write-action">In a <code>write</code> Action</h5>
<ul>
<li>[ var_id, unit_id, output, offset, force ]</li>
<li>[ var_id, unit_id, output, offset ]</li>
<li>[ var_id, unit_id, output ]</li>
<li>[ var_id, unit_id ]</li>
</ul>
<h5 id="in-a-publish-action">In a <code>publish</code> Action</h5>
<ul>
<li>[ var_id, unit_id, initial, output ]</li>
<li>[ var_id, unit_id, initial ]</li>
<li>[ var_id, unit_id ]</li>
<li>[ var_id ]</li>
</ul>
<h5 id="in-a-send-action">In a <code>send</code> Action</h5>
<ul>
<li>[ var_id, output ]</li>
<li>[ var_id ]</li>
</ul>
<p>Omitted values are replaced with default values by GCI.</p>
<h3 id="simple-form">Simple Form</h3>
<p>An array with just a single <code>var_id</code> can be simplified for an even shorter form:</p>
<p>Instead of writing</p>
<pre><code>  &quot;on_true&quot;: [ &quot;AP_MASTER&quot; ]
</code></pre>
<p>just write</p>
<pre><code>  &quot;on_true&quot;: &quot;AP_MASTER&quot;
</code></pre>

            ]]>
        </content>
    </entry>
    <entry>
        <title>Support for Response Presets</title>
        <author>
            <name>Cr4O13</name>
        </author>
        <link href="https://Cr4O13.github.io/support-for-response-presets.html"/>
        <id>https://Cr4O13.github.io/support-for-response-presets.html</id>
            <category term="Response"/>
            <category term="Home"/>
            <category term="GCI"/>

        <updated>2021-12-10T01:05:49+01:00</updated>
            <summary>
                <![CDATA[
                    GCI Home v1.0 BETA 7 introduces ‘Response Presets’ to simplify the configuration of an axis with output response specifications. Response presets support reuse of responses and help keeping the axis configuration readable. Before BETA 7 an axis output response had to be defined literally in&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>GCI Home v1.0 BETA 7 introduces ‘Response Presets’ to simplify the configuration of an axis with output response specifications.</p>
<p>Response presets support reuse of responses and help keeping the axis configuration readable.</p>
<p>Before BETA 7 an axis output response had to be defined literally in the axis specification:</p>
<pre><code>{ &quot;axis&quot;: [
  { &quot;id&quot;: [ 2, &quot;Pedal Rotation&quot; ], 
    &quot;write&quot;: [ &quot;RUDDER POSITION&quot;, &quot;Position&quot;, { 
        &quot;response&quot;: [
          [ -1.000, -1.000 ], 
          [ -0.924, -0.836 ], 
          [ -0.838, -0.687 ], 
          [ -0.740, -0.552 ], 
          [ -0.629, -0.429 ], 
          [ -0.501, -0.314 ], 
          [ -0.355, -0.206 ], 
          [ -0.189, -0.102 ], 
          [  0.000,  0.000 ], 
          [  0.189,  0.102 ], 
          [  0.355,  0.206 ], 
          [  0.501,  0.314 ], 
          [  0.629,  0.429 ], 
          [  0.740,  0.552 ], 
          [  0.838,  0.687 ], 
          [  0.924,  0.836 ], 
          [  1.000,  1.000 ]
        ]
      }
    ] 
  }
}
</code></pre>
<h3 id="response-preset-definition">Response Preset Definition</h3>
<p>Starting from BETA 7 multiple response presets can be defined in a <code>responses</code> list  placed in the <code>defaults</code> specification. The preset must provide a preset <code>name</code> and the <code>response settings</code> as usual:</p>
<pre><code>&quot;defaults&quot;: {
  &quot;responses&quot;: {
    &quot;flight-controls&quot;: [
      [ -1.000, -1.000 ], 
      [ -0.924, -0.836 ], 
      [ -0.838, -0.687 ], 
      [ -0.740, -0.552 ], 
      [ -0.629, -0.429 ], 
      [ -0.501, -0.314 ], 
      [ -0.355, -0.206 ], 
      [ -0.189, -0.102 ], 
      [  0.000,  0.000 ], 
      [  0.189,  0.102 ], 
      [  0.355,  0.206 ], 
      [  0.501,  0.314 ], 
      [  0.629,  0.429 ], 
      [  0.740,  0.552 ], 
      [  0.838,  0.687 ], 
      [  0.924,  0.836 ], 
      [  1.000,  1.000 ]
    ]
  }
}
</code></pre>
<p>Once defined, the preset name can be used in multiple axis specifications as the value of the response field:</p>
<pre><code>{ &quot;axis&quot;: [
    { &quot;id&quot;: [ 2, &quot;Pedal Rotation&quot; ], 
      &quot;write&quot;: [ &quot;RUDDER POSITION&quot;, &quot;Position&quot;, { &quot;response&quot;: &quot;flight-controls&quot; } ]
    }
  ]
}
</code></pre>
<h3 id="response-presets-file">Response Presets File</h3>
<p>To assist in the management of response presets, additionally to the above, the response presets can be moved to a separate JSON configuration file (e.g. “responses.json”). The file must reside in the resources folder.</p>
<pre><code>{ &quot;flight-controls&quot;: [
    [ -1.000, -1.000 ], 
    [ -0.924, -0.836 ], 
    [ -0.838, -0.687 ], 
    [ -0.740, -0.552 ], 
    [ -0.629, -0.429 ], 
    [ -0.501, -0.314 ], 
    [ -0.355, -0.206 ], 
    [ -0.189, -0.102 ], 
    [  0.000,  0.000 ], 
    [  0.189,  0.102 ], 
    [  0.355,  0.206 ], 
    [  0.501,  0.314 ], 
    [  0.629,  0.429 ], 
    [  0.740,  0.552 ], 
    [  0.838,  0.687 ], 
    [  0.924,  0.836 ], 
    [  1.000,  1.000 ]
  ],
    ...
}
</code></pre>
<p>In the defaults specification the responses field just references the file name:</p>
<pre><code>&quot;defaults&quot;: {
  &quot;responses&quot;: &quot;responses.json&quot;
}
</code></pre>
<p>All response presets defined in the referred file will be available for use in the axis specifications.</p>

            ]]>
        </content>
    </entry>
</feed>
